version: 2.1

executors:
  default-executor:
    docker:
      - image: cimg/node:14.21.3
 
jobs:
  test:
    description: 'Test prune'
    executor: default-executor
    resource_class: 2xlarge
    steps:
      - checkout
      # try to restore the modules from the cache
      - run:
          command: |
            docker system prune -af --volumes
            docker builder prune -af
            df -h

workflows:
  # to validate snyk, dependabot, and release PRs
  build-simple:
    jobs:      
      - test:
          name: test
